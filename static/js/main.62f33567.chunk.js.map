{"version":3,"sources":["functions/http.js","components/leagues.js","functions/config.js","functions/poe-ninja.js","contexts/utils.js","functions/utils.js","contexts/items.js","components/comparison.js","functions/compareItems.js","components/comparisons.js","components/app.js","index.js"],"names":["fetchJSON","url","fetch","then","response","text","textResponse","ok","Error","concat","status","JSON","parse","error","useSelectedLeague","_useState","useState","_useState2","Object","slicedToArray","leagues","setLeagues","useEffect","tempLeagues","filter","leagueHash","leagueName","id","some","prohibitedWord","toLowerCase","includes","tempSC","tempHC","length","Standard","Hardcore","Temp SC","Temp HC","mapToMetaLeagues","catch","console","fetchedLeagues","log","stringify","_useState3","_useState4","selectedMetaLeague","setSelectedMetaLeague","_useState5","_useState6","selectedLeague","setSelectedLeague","metaLeagues","typeConfig","config","_i","_Object$entries","entries","currency","currencies","type","name_key","compare_key","fragments","item","accessories","weapons","armours","divination_cards","base_types","maps","scarabs","jewels","flasks","_ref3","categoryItems","assign","useEnsureProvider","context","ctx","React","useContext","displayName","SingleExecutionLockContext","createContext","SingleExecutionLockProvider","props","lock","useRef","react_default","a","createElement","Provider","value","isDefined","ItemsContext","ItemsProvider","_React$useState","_React$useState2","items","setItems","useMemo","useSelectedLeagueItems","_useItems","_useItems2","fetchAllowed","key","executionLock","executionAllowed","current","useSingleExecutionLock","league","fetchPromises","map","_ref4","_ref5","category","_ref6","_ref7","details","itemsApi","itemsForLeague","lines","flat","Promise","all","fetchItems","fetchedItems","mergedItems","obj","err","deepClone","defineProperty","useFindItems","names","name","foundItem","_ref2","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","return","find","Comparison","_ref","comparison","useCompareText","baseNames","compareNames","baseItems","compareItems","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","baseItem","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","compareItem","Math","round","comparePrice","useCostText","pieces","cost","style","order","base","compare","comment","ComparisonText","Comparisons","comparisonsByGroup","Pure vs. normal Breachstones","Divination cards vs. outcome","Gilded Scarabs","Item prices","Incursion uniques (vials excluded)","keys","group","i","comparison_Comparison","App","_useSelectedLeague","onChange","event","target","utils_SingleExecutionLockProvider","items_ItemsProvider","comparisons_Comparisons","rootElement","document","getElementById","ReactDOM","render","app"],"mappings":"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","file":"static/js/main.62f33567.chunk.js","sourcesContent":["export const fetchJSON = url => {\r\n  return fetch(url).then(response => {\r\n    return response.text().then(textResponse => {\r\n      if (response.ok) {\r\n        try {\r\n          return JSON.parse(textResponse);\r\n        } catch (error) {\r\n          throw new Error(\r\n            `Could not JSON parse reponse: ${textResponse}. Error: ${error}`\r\n          );\r\n        }\r\n      } else {\r\n        throw new Error(`HTTP error: ${response.status} - ${textResponse}`);\r\n      }\r\n    });\r\n  });\r\n};\r\n","import { useState, useEffect } from \"react\";\r\n\r\nimport { leaguesApi } from \"../functions/config\";\r\nimport { fetchJSON } from \"../functions/http\";\r\n\r\nconst mapToMetaLeagues = leagues => {\r\n  const tempLeagues = leagues.filter(leagueHash => {\r\n    const leagueName = leagueHash.id;\r\n    return !(\r\n      [\"ssf\", \"standard\"].some(prohibitedWord =>\r\n        leagueName.toLowerCase().includes(prohibitedWord)\r\n      ) || leagueName.toLowerCase() === \"hardcore\"\r\n    );\r\n  });\r\n\r\n  const tempSC = tempLeagues.filter(leagueHash => {\r\n    return !leagueHash.id.toLowerCase().includes(\"hardcore\");\r\n  });\r\n\r\n  const tempHC = tempLeagues.filter(leagueHash => {\r\n    return leagueHash.id.toLowerCase().includes(\"hardcore\");\r\n  });\r\n\r\n  if (tempSC.length !== 1 || tempHC.length !== 1) {\r\n    return {\r\n      Standard: \"Standard\",\r\n      Hardcore: \"Hardcore\",\r\n    };\r\n  }\r\n\r\n  return {\r\n    \"Temp SC\": tempSC[0].id,\r\n    \"Temp HC\": tempHC[0].id,\r\n    Standard: \"Standard\",\r\n    Hardcore: \"Hardcore\",\r\n  };\r\n};\r\n\r\nconst fetchLeagues = () => {\r\n  return fetchJSON(leaguesApi())\r\n    .then(leagues => {\r\n      return mapToMetaLeagues(leagues);\r\n    })\r\n    .catch(error => {\r\n      console.error(`Couldn't fetch leagues: ${error}`);\r\n    });\r\n};\r\n\r\nexport const useSelectedLeague = () => {\r\n  const [leagues, setLeagues] = useState({});\r\n  useEffect(() => {\r\n    fetchLeagues().then(fetchedLeagues => {\r\n      console.log(`Leagues: ${JSON.stringify(fetchedLeagues)}`);\r\n      setLeagues(fetchedLeagues);\r\n    });\r\n  }, []);\r\n\r\n  const [selectedMetaLeague, setSelectedMetaLeague] = useState(\"Temp SC\");\r\n\r\n  const [selectedLeague, setSelectedLeague] = useState();\r\n  useEffect(() => {\r\n    setSelectedLeague(leagues[selectedMetaLeague]);\r\n  }, [leagues, selectedMetaLeague]);\r\n\r\n  const metaLeagues = [\"Temp SC\", \"Temp HC\", \"Standard\", \"Hardcore\"];\r\n\r\n  return {\r\n    metaLeagues,\r\n    selectedMetaLeague,\r\n    selectedLeague,\r\n    setSelectedMetaLeague,\r\n  };\r\n};\r\n","export const proxy = url => {\r\n  return `https://thingproxy.freeboard.io/fetch/${url}`;\r\n};\r\n\r\nexport const leaguesApi = () => {\r\n  // return proxy(\"http://api.pathofexile.com/leagues?type=main&compact=1\");\r\n  return \"http://api.pathofexile.com/leagues?type=main&compact=1\";\r\n};\r\n\r\nexport const comparisons = () => {\r\n  return {\r\n    \"Pure vs. normal Breachstones\": [\r\n      {\r\n        name: \"Chayula\",\r\n        base: [\"Chayula's Pure Breachstone\"],\r\n        compare: [\"Chayula's Breachstone\"],\r\n      },\r\n      {\r\n        name: \"Uul-Netol\",\r\n        base: [\"Uul-Netol's Pure Breachstone\"],\r\n        compare: [\"Uul-Netol's Breachstone\"],\r\n      },\r\n      {\r\n        name: \"Tul\",\r\n        base: [\"Tul's Pure Breachstone\"],\r\n        compare: [\"Tul's Breachstone\"],\r\n      },\r\n      {\r\n        name: \"Xoph\",\r\n        base: [\"Xoph's Pure Breachstone\"],\r\n        compare: [\"Xoph's Breachstone\"],\r\n      },\r\n      {\r\n        name: \"Esh\",\r\n        base: [\"Esh's Pure Breachstone\"],\r\n        compare: [\"Esh's Breachstone\"],\r\n      },\r\n    ],\r\n    \"Divination cards vs. outcome\": [\r\n      {\r\n        name: \"The Apothecary (Mageblood)\",\r\n        base: [\"Mageblood\"],\r\n        compare: [\r\n          \"The Apothecary\",\r\n          \"The Apothecary\",\r\n          \"The Apothecary\",\r\n          \"The Apothecary\",\r\n          \"The Apothecary\",\r\n        ],\r\n      },\r\n      {\r\n        name: \"The Nurse\",\r\n        base: [\"The Doctor\"],\r\n        compare: [\r\n          \"The Nurse\",\r\n          \"The Nurse\",\r\n          \"The Nurse\",\r\n          \"The Nurse\",\r\n          \"The Nurse\",\r\n          \"The Nurse\",\r\n          \"The Nurse\",\r\n          \"The Nurse\",\r\n        ],\r\n      },\r\n      {\r\n        name: \"Succor of the Sinless (Bottled Faith)\",\r\n        base: [\"Bottled Faith\"],\r\n        compare: [\r\n          \"Succor of the Sinless\",\r\n          \"Succor of the Sinless\",\r\n          \"Succor of the Sinless\",\r\n          \"Succor of the Sinless\",\r\n          \"Succor of the Sinless\",\r\n          \"Succor of the Sinless\",\r\n        ],\r\n      },\r\n      {\r\n        name: \"The Sephirot\",\r\n        base: [\r\n          \"Divine Orb\",\r\n          \"Divine Orb\",\r\n          \"Divine Orb\",\r\n          \"Divine Orb\",\r\n          \"Divine Orb\",\r\n          \"Divine Orb\",\r\n          \"Divine Orb\",\r\n          \"Divine Orb\",\r\n          \"Divine Orb\",\r\n          \"Divine Orb\",\r\n        ],\r\n        compare: [\r\n          \"The Sephirot\",\r\n          \"The Sephirot\",\r\n          \"The Sephirot\",\r\n          \"The Sephirot\",\r\n          \"The Sephirot\",\r\n          \"The Sephirot\",\r\n          \"The Sephirot\",\r\n          \"The Sephirot\",\r\n          \"The Sephirot\",\r\n          \"The Sephirot\",\r\n          \"The Sephirot\",\r\n        ],\r\n      },\r\n      {\r\n        name: \"The Hoarder (Exalted Orb)\",\r\n        base: [\"Exalted Orb\"],\r\n        compare: [\r\n          \"The Hoarder\",\r\n          \"The Hoarder\",\r\n          \"The Hoarder\",\r\n          \"The Hoarder\",\r\n          \"The Hoarder\",\r\n          \"The Hoarder\",\r\n          \"The Hoarder\",\r\n          \"The Hoarder\",\r\n          \"The Hoarder\",\r\n          \"The Hoarder\",\r\n          \"The Hoarder\",\r\n          \"The Hoarder\",\r\n        ],\r\n      },\r\n      {\r\n        name: \"Abandoned Wealth (3x Exalted Orb)\",\r\n        base: [\"Exalted Orb\", \"Exalted Orb\", \"Exalted Orb\"],\r\n        compare: [\r\n          \"Abandoned Wealth\",\r\n          \"Abandoned Wealth\",\r\n          \"Abandoned Wealth\",\r\n          \"Abandoned Wealth\",\r\n          \"Abandoned Wealth\",\r\n        ],\r\n      },\r\n      {\r\n        name: \"Nook's Crown (Elder Bone Helmet ilvl100)\",\r\n        base: [\"bone-helmet-86-elder\"],\r\n        compare: [\r\n          \"Nook's Crown\",\r\n          \"Nook's Crown\",\r\n          \"Nook's Crown\",\r\n          \"Nook's Crown\",\r\n        ],\r\n      },\r\n    ],\r\n    \"Gilded Scarabs\": [\r\n      {\r\n        name: \"Sulphite\",\r\n        base: [\"Gilded Sulphite Scarab\"],\r\n        compare: [],\r\n        comment: \"Cameria\",\r\n      },\r\n      {\r\n        name: \"Legion\",\r\n        base: [\"Gilded Legion Scarab\"],\r\n        compare: [],\r\n        comment: \"Vagan\",\r\n      },\r\n      {\r\n        name: \"Harbinger\",\r\n        base: [\"Gilded Harbinger Scarab\"],\r\n        compare: [],\r\n        comment: \"Tora\",\r\n      },\r\n      {\r\n        name: \"Bestiary\",\r\n        base: [\"Gilded Bestiary Scarab\"],\r\n        compare: [],\r\n        comment: \"Jorgin\",\r\n      },\r\n      {\r\n        name: \"Divination\",\r\n        base: [\"Gilded Divination Scarab\"],\r\n        compare: [],\r\n        comment: \"Gravicius\",\r\n      },\r\n      {\r\n        name: \"Cartography\",\r\n        base: [\"Gilded Cartography Scarab\"],\r\n        compare: [],\r\n        comment: \"Rin\",\r\n      },\r\n      {\r\n        name: \"Torment\",\r\n        base: [\"Gilded Torment Scarab\"],\r\n        compare: [],\r\n        comment: \"Leo\",\r\n      },\r\n      {\r\n        name: \"Shaper\",\r\n        base: [\"Gilded Shaper Scarab\"],\r\n        compare: [],\r\n        comment: \"Vorici\",\r\n      },\r\n      {\r\n        name: \"Elder\",\r\n        base: [\"Gilded Elder Scarab\"],\r\n        compare: [],\r\n        comment: \"Korell\",\r\n      },\r\n      {\r\n        name: \"Reliquary\",\r\n        base: [\"Gilded Reliquary Scarab\"],\r\n        compare: [],\r\n        comment: \"Elreon\",\r\n      },\r\n      {\r\n        name: \"Breach\",\r\n        base: [\"Gilded Breach Scarab\"],\r\n        compare: [],\r\n        comment: \"It That Fled\",\r\n      },\r\n      {\r\n        name: \"Ambush\",\r\n        base: [\"Gilded Ambush Scarab\"],\r\n        compare: [],\r\n        comment: \"Haku\",\r\n      },\r\n      {\r\n        name: \"Perandus\",\r\n        base: [\"Gilded Perandus Scarab\"],\r\n        compare: [],\r\n        comment: \"Janus\",\r\n      },\r\n    ],\r\n    \"Item prices\": [\r\n      {\r\n        name: \"Exalted Orb\",\r\n        base: [\"Exalted Orb\"],\r\n        compare: [],\r\n      },\r\n    ],\r\n    \"Incursion uniques (vials excluded)\": [\r\n      {\r\n        name: \"Apep's Supremacy\",\r\n        base: [\"Apep's Supremacy\"],\r\n        compare: [\"Apep's Slumber\"],\r\n        comment:\r\n          \"Vial of Awakening: https://www.pathofexile.com/trade/search/Metamorph/KYVR6Ri5\",\r\n      },\r\n      {\r\n        name: \"Slavedriver's Hand\",\r\n        base: [\"Slavedriver's Hand\"],\r\n        compare: [\"Architect's Hand\"],\r\n        comment:\r\n          \"Vial of Dominance: https://www.pathofexile.com/trade/search/Metamorph/q2Ew93Cg\",\r\n      },\r\n      {\r\n        name: \"Mask of the Stitched Demon\",\r\n        base: [\"Mask of the Stitched Demon\"],\r\n        compare: [\"Mask of the Spirit Drinker\"],\r\n        comment:\r\n          \"Vial of Summoning: https://www.pathofexile.com/trade/search/Metamorph/mZprJJH6\",\r\n      },\r\n      {\r\n        name: \"Coward's Legacy\",\r\n        base: [\"Coward's Legacy\"],\r\n        compare: [\"Coward's Chains\"],\r\n        comment:\r\n          \"Vial of Consequence: https://www.pathofexile.com/trade/search/Metamorph/REManrf7\",\r\n      },\r\n      {\r\n        name: \"Fate of the Vaal\",\r\n        base: [\"Fate of the Vaal\"],\r\n        compare: [\"Story of the Vaal\"],\r\n        comment:\r\n          \"Vial of Fate: https://www.pathofexile.com/trade/search/Metamorph/ak4Q2pte\",\r\n      },\r\n      {\r\n        name: \"Omeyocan\",\r\n        base: [\"Omeyocan\"],\r\n        compare: [\"Dance of the Offered\"],\r\n        comment:\r\n          \"Vial of the Ritual: https://www.pathofexile.com/trade/search/Metamorph/9d9Wk4uK\",\r\n      },\r\n      {\r\n        name: \"Zerphi's Heart\",\r\n        base: [\"Zerphi's Heart\"],\r\n        compare: [\"Sacrificial Heart\"],\r\n        comment:\r\n          \"Vial of Sacrifice: https://www.pathofexile.com/trade/search/Metamorph/pY25JWi0\",\r\n      },\r\n      {\r\n        name: \"Soul Ripper\",\r\n        base: [\"Soul Ripper\"],\r\n        compare: [\"Soul Catcher\"],\r\n        comment:\r\n          \"Vial of the Ghost: https://www.pathofexile.com/trade/search/Metamorph/rGdy0gHQ\",\r\n      },\r\n      {\r\n        name: \"Transcendent Flesh\",\r\n        base: [\"Transcendent Flesh\"],\r\n        compare: [\"Tempered Flesh\"],\r\n        comment:\r\n          \"Vial of Transcendence: https://www.pathofexile.com/trade/search/Metamorph/Q34bbRuw\",\r\n      },\r\n      {\r\n        name: \"Transcendent Mind\",\r\n        base: [\"Transcendent Mind\"],\r\n        compare: [\"Tempered Mind\"],\r\n        comment:\r\n          \"Vial of Transcendence: https://www.pathofexile.com/trade/search/Metamorph/Q34bbRuw\",\r\n      },\r\n      {\r\n        name: \"Transcendent Spirit\",\r\n        base: [\"Transcendent Spirit\"],\r\n        compare: [\"Tempered Spirit\"],\r\n        comment:\r\n          \"Vial of Transcendence: https://www.pathofexile.com/trade/search/Metamorph/Q34bbRuw\",\r\n      },\r\n    ],\r\n  };\r\n};\r\n","import { proxy } from \"./config\";\r\n\r\nexport const itemsApi = (category, type, league) => {\r\n  return proxy(\r\n    `https://poe.ninja/api/data/${category}overview?league=${league}&type=${type}`\r\n  );\r\n};\r\n\r\nexport const typeConfigByCategory = () => {\r\n  return {\r\n    currency: {\r\n      currencies: {\r\n        type: \"Currency\",\r\n        name_key: \"currencyTypeName\",\r\n        compare_key: \"chaosEquivalent\",\r\n      },\r\n      fragments: {\r\n        type: \"Fragment\",\r\n        name_key: \"currencyTypeName\",\r\n        compare_key: \"chaosEquivalent\",\r\n      },\r\n    },\r\n    item: {\r\n      accessories: {\r\n        type: \"UniqueAccessory\",\r\n        name_key: \"name\",\r\n        compare_key: \"chaosValue\",\r\n      },\r\n      weapons: {\r\n        type: \"UniqueWeapon\",\r\n        name_key: \"name\",\r\n        compare_key: \"chaosValue\",\r\n      },\r\n      armours: {\r\n        type: \"UniqueArmour\",\r\n        name_key: \"name\",\r\n        compare_key: \"chaosValue\",\r\n      },\r\n      divination_cards: {\r\n        type: \"DivinationCard\",\r\n        name_key: \"name\",\r\n        compare_key: \"chaosValue\",\r\n      },\r\n      base_types: {\r\n        type: \"BaseType\",\r\n        name_key: \"detailsId\",\r\n        compare_key: \"chaosValue\",\r\n      },\r\n      maps: {\r\n        type: \"Map\",\r\n        name_key: \"name\",\r\n        compare_key: \"chaosValue\",\r\n      },\r\n      scarabs: {\r\n        type: \"Scarab\",\r\n        name_key: \"name\",\r\n        compare_key: \"chaosValue\",\r\n      },\r\n      jewels: {\r\n        type: \"UniqueJewel\",\r\n        name_key: \"name\",\r\n        compare_key: \"chaosValue\",\r\n      },\r\n      flasks: {\r\n        type: \"UniqueFlask\",\r\n        name_key: \"name\",\r\n        compare_key: \"chaosValue\",\r\n      },\r\n    },\r\n  };\r\n};\r\n\r\nexport const typeConfig = () => {\r\n  let config = {};\r\n\r\n  for (const [, categoryItems] of Object.entries(typeConfigByCategory())) {\r\n    config = Object.assign(config, categoryItems);\r\n  }\r\n\r\n  return config;\r\n};\r\n","import React from \"react\";\r\n\r\nexport const useEnsureProvider = context => {\r\n  const ctx = React.useContext(context);\r\n\r\n  if (!ctx) {\r\n    throw new Error(\r\n      `${context.displayName} cannot be used outside the provider.`\r\n    );\r\n  }\r\n\r\n  return ctx;\r\n};\r\n\r\nconst SingleExecutionLockContext = React.createContext();\r\nexport const SingleExecutionLockProvider = props => {\r\n  const lock = React.useRef({});\r\n\r\n  return <SingleExecutionLockContext.Provider value={lock} {...props} />;\r\n};\r\n\r\nexport const useSingleExecutionLock = key => {\r\n  const executionLock = useEnsureProvider(SingleExecutionLockContext);\r\n\r\n  let executionAllowed = false;\r\n\r\n  if (!executionLock.current[key]) {\r\n    executionLock.current[key] = true;\r\n    executionAllowed = true;\r\n  }\r\n\r\n  return executionAllowed;\r\n};\r\n","export const deepClone = obj => {\r\n  try {\r\n    return JSON.parse(JSON.stringify(obj));\r\n  } catch (err) {\r\n    console.error(`Object deep clone error: ${err}`);\r\n\r\n    return {};\r\n  }\r\n};\r\n\r\nexport const isDefined = value =>\r\n  typeof value !== \"undefined\" && value !== null;\r\n","import React from \"react\";\r\nimport { fetchJSON } from \"../functions/http\";\r\nimport {\r\n  itemsApi,\r\n  typeConfigByCategory,\r\n  typeConfig,\r\n} from \"../functions/poe-ninja\";\r\nimport { useEnsureProvider, useSingleExecutionLock } from \"./utils\";\r\nimport { deepClone } from \"../functions/utils\";\r\n\r\nconst ItemsContext = React.createContext();\r\n\r\nexport const useItems = () => {\r\n  return useEnsureProvider(ItemsContext);\r\n};\r\n\r\nexport const ItemsProvider = props => {\r\n  const [items, setItems] = React.useState({});\r\n\r\n  const value = React.useMemo(() => [items, setItems], [items]);\r\n\r\n  return <ItemsContext.Provider value={value} {...props} />;\r\n};\r\n\r\nconst find = (items, name) => {\r\n  if (!items) return null;\r\n  let foundItem;\r\n  for (const [type, details] of Object.entries(typeConfig())) {\r\n    const typeItems = items[type] || [];\r\n    if (!typeItems.length) {\r\n      console.log(`${type} is not available`);\r\n    }\r\n    for (const item of items[type] || []) {\r\n      if (item[details.name_key] === name) {\r\n        foundItem = item;\r\n        foundItem.type = type;\r\n        break;\r\n      }\r\n    }\r\n    if (foundItem !== undefined) {\r\n      break;\r\n    }\r\n  }\r\n\r\n  return foundItem;\r\n};\r\n\r\nconst fetchItems = league => {\r\n  const items = {};\r\n\r\n  const fetchPromises = Object.entries(typeConfigByCategory())\r\n    .map(([category, categoryItems]) => {\r\n      return Object.entries(categoryItems).map(([type, details]) => {\r\n        const url = itemsApi(category, details.type, league);\r\n        console.log(`Fetching ${type} items for ${league} league from ${url}`);\r\n        return fetchJSON(url)\r\n          .then(itemsForLeague => {\r\n            console.log(\r\n              `Fetched: ${itemsForLeague.lines.length} ${type} items`\r\n            );\r\n            items[type] = itemsForLeague.lines;\r\n          })\r\n          .catch(error => {\r\n            console.error(`Couldn't fetch items: ${error}`);\r\n          });\r\n      });\r\n    })\r\n    .flat();\r\n\r\n  return Promise.all(fetchPromises).then(() => {\r\n    return items;\r\n  });\r\n};\r\n\r\nexport const useSelectedLeagueItems = selectedLeague => {\r\n  const [items, setItems] = useItems();\r\n  const fetchAllowed = useSingleExecutionLock(selectedLeague);\r\n\r\n  React.useEffect(() => {\r\n    if (!selectedLeague) return;\r\n\r\n    if (!items[selectedLeague] && fetchAllowed) {\r\n      console.log(`${selectedLeague} league selected, fetching items...`);\r\n      fetchItems(selectedLeague).then(fetchedItems => {\r\n        const mergedItems = Object.assign(deepClone(items), {\r\n          [selectedLeague]: fetchedItems,\r\n        });\r\n        setItems(mergedItems);\r\n      });\r\n    }\r\n  }, [fetchAllowed, items, selectedLeague, setItems]);\r\n\r\n  return items[selectedLeague];\r\n};\r\n\r\nexport const useFindItems = (league, names) => {\r\n  const items = useSelectedLeagueItems(league);\r\n  return names.map(name => {\r\n    return find(items, name);\r\n  });\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { comparePrice, cost } from \"../functions/compareItems\";\r\nimport { useFindItems } from \"../contexts/items\";\r\nimport { isDefined } from \"../functions/utils\";\r\n\r\nexport const Comparison = ({ selectedLeague, comparison }) => {\r\n  const useCompareText = (baseNames, compareNames) => {\r\n    const baseItems = useFindItems(selectedLeague, baseNames);\r\n    const compareItems = useFindItems(selectedLeague, compareNames);\r\n    let text;\r\n\r\n    if (baseItems.concat(compareItems).some(item => !isDefined(item))) {\r\n      text = \"N/A\";\r\n    } else {\r\n      text = comparePrice(baseItems, compareItems);\r\n    }\r\n\r\n    return text;\r\n  };\r\n\r\n  const useCostText = names => {\r\n    const pieces = names.length;\r\n    const items = useFindItems(selectedLeague, names);\r\n\r\n    let text;\r\n    if (pieces === 0) {\r\n      text = \"\";\r\n    } else if (items.some(item => !isDefined(item))) {\r\n      text = \"N/A\";\r\n    } else {\r\n      text = `, cost: ${cost(items)} chaos, pieces: ${pieces}`;\r\n    }\r\n\r\n    return text;\r\n  };\r\n\r\n  const ComparisonText = () => {\r\n    let text = `${comparison.name}: `;\r\n\r\n    text += `${useCompareText(\r\n      comparison.base,\r\n      comparison.compare\r\n    )} chaos profit`;\r\n\r\n    text += useCostText(comparison.compare);\r\n\r\n    if (comparison.comment) {\r\n      text += ` (${comparison.comment})`;\r\n    }\r\n\r\n    return text;\r\n  };\r\n\r\n  const style = {\r\n    order: useCompareText(comparison.base, comparison.compare),\r\n  };\r\n\r\n  return (\r\n    <li key={comparison.key} style={style}>\r\n      {ComparisonText()}\r\n    </li>\r\n  );\r\n};\r\n\r\nComparison.propTypes = {\r\n  comparison: PropTypes.object,\r\n  selectedLeague: PropTypes.string,\r\n  key: PropTypes.number,\r\n};\r\n","import { typeConfig } from \"./poe-ninja\";\r\n\r\nexport const cost = items => {\r\n  let value = 0;\r\n\r\n  for (const item of items) {\r\n    const compareKey = typeConfig()[item.type].compare_key;\r\n    value += item[compareKey];\r\n  }\r\n\r\n  return Math.round(value);\r\n};\r\n\r\nexport const comparePrice = (baseItems, compareItems) => {\r\n  let value = 0;\r\n\r\n  for (const baseItem of baseItems) {\r\n    const baseItemCompareKey = typeConfig()[baseItem.type].compare_key;\r\n    value += baseItem[baseItemCompareKey];\r\n  }\r\n\r\n  for (const compareItem of compareItems) {\r\n    const compareItemCompareKey = typeConfig()[compareItem.type].compare_key;\r\n    value -= compareItem[compareItemCompareKey];\r\n  }\r\n\r\n  return Math.round(value);\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { comparisons } from \"../functions/config\";\r\nimport { Comparison } from \"./comparison\";\r\n\r\nexport const Comparisons = ({ selectedLeague }) => {\r\n  const comparisonsByGroup = comparisons();\r\n\r\n  return (\r\n    <div>\r\n      {Object.keys(comparisonsByGroup).map(group => (\r\n        <div key={group}>\r\n          <h2>{group}</h2>\r\n          <ul>\r\n            {comparisonsByGroup[group].map((comparison, i) => (\r\n              <Comparison\r\n                selectedLeague={selectedLeague}\r\n                comparison={comparison}\r\n                key={i}\r\n              />\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nComparisons.propTypes = {\r\n  selectedLeague: PropTypes.string,\r\n};\r\n","import React from \"react\";\r\nimport { useSelectedLeague } from \"./leagues\";\r\nimport { ItemsProvider } from \"../contexts/items\";\r\nimport { SingleExecutionLockProvider } from \"../contexts/utils\";\r\nimport { Comparisons } from \"./comparisons\";\r\n\r\nconst App = () => {\r\n  const {\r\n    metaLeagues,\r\n    selectedMetaLeague,\r\n    selectedLeague,\r\n    setSelectedMetaLeague,\r\n  } = useSelectedLeague();\r\n\r\n  return (\r\n    <div>\r\n      <h1>PoE - What to flip?</h1>\r\n      <select\r\n        name=\"league\"\r\n        value={selectedMetaLeague}\r\n        onChange={event => setSelectedMetaLeague(event.target.value)}\r\n      >\r\n        {metaLeagues.map(league => (\r\n          <option key={league} value={league}>\r\n            {league}\r\n          </option>\r\n        ))}\r\n      </select>\r\n\r\n      <SingleExecutionLockProvider>\r\n        <ItemsProvider>\r\n          <Comparisons selectedLeague={selectedLeague}></Comparisons>\r\n        </ItemsProvider>\r\n      </SingleExecutionLockProvider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/app\";\r\n\r\nimport \"./styles.css\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<App />, rootElement);\r\n"],"sourceRoot":""}